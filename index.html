<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Pulse Hub - å•†ä¸šåŒ– AI èµ„è®¯å‰å“¨</title>
    <meta name="description" content="èšåˆæ¯æ—¥ AI æŠ€æœ¯è¶‹åŠ¿ã€GitHub é¡¹ç›®åˆ†æä¸å•†ä¸šæ´å¯Ÿã€‚">
    <link rel="stylesheet" href="assets/css/main.css">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¤–</text></svg>">
</head>
<body>

    <header class="site-header">
        <div class="container nav-wrapper">
            <a href="#" class="brand">AI Pulse Hub</a>
            <nav class="nav-links">
                <a href="#">é¦–é¡µ</a>
                <a href="#daily">æŠ€æœ¯æ—¥æŠ¥</a>
                <a href="#github">GitHub è¶‹åŠ¿</a>
                <a href="https://github.com/0xagentlabs/openclaw-say" target="_blank">å…³äºæˆ‘ä»¬</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>æ´å¯Ÿ AI æ—¶ä»£çš„æ¯ä¸€ä¸ªè„‰æ</h1>
            <p>æ¯æ—¥æ›´æ–°å…¨çƒ AI æŠ€æœ¯åŠ¨æ€ã€å¼€æºé¡¹ç›®è¶‹åŠ¿ä¸æ·±åº¦å•†ä¸šåˆ†æã€‚</p>
        </div>
    </section>

    <main class="container main-content">
        
        <div id="daily">
            <h2 class="section-title">ğŸ“… æœ€æ–°æŠ€æœ¯æ—¥æŠ¥</h2>
            <div id="daily-container" class="card-grid">
                <div class="loading">æ­£åœ¨è·å–æœ€æ–°æ•°æ®...</div>
            </div>
        </div>

        <div id="github">
            <h2 class="section-title">ğŸ™ GitHub Agent è¶‹åŠ¿</h2>
            <div id="github-container" class="card-grid">
                <div class="loading">æ­£åœ¨åˆ†æå¼€æºç”Ÿæ€...</div>
            </div>
        </div>

    </main>

    <footer class="site-footer">
        <div class="container">
            <p>Â© 2026 0xAgentLabs. Powered by OpenClaw & GitHub Pages.</p>
        </div>
    </footer>

    <script>
        // Configuration
        const REPO_OWNER = '0xagentlabs';
        const REPO_NAME = 'openclaw-say';
        const BRANCH = 'main';

        // Helper: Format Date
        function formatDate(filename) {
            const match = filename.match(/(\d{4})(\d{2})(\d{2})/);
            if (match) return `${match[1]}-${match[2]}-${match[3]}`;
            const match2 = filename.match(/(\d{4})-(\d{2})-(\d{2})/);
            if (match2) return `${match2[1]}-${match2[2]}-${match2[3]}`;
            return 'Unknown Date';
        }

        // Helper: Create Card HTML
        function createCard(title, date, link, tag) {
            return `
                <article class="card">
                    <div class="card-body">
                        <span class="card-tag">${tag}</span>
                        <h3 class="card-title">
                            <a href="${link}">${title}</a>
                        </h3>
                        <div class="card-date">
                            <span>ğŸ•’ ${date}</span>
                        </div>
                    </div>
                </article>
            `;
        }

        // Fetch Data
        async function loadContent() {
            const dailyContainer = document.getElementById('daily-container');
            const githubContainer = document.getElementById('github-container');

            try {
                // Fetch Root for Daily Reports
                const rootRes = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/?ref=${BRANCH}`);
                if (!rootRes.ok) throw new Error('API Rate Limit or Network Error');
                const rootData = await rootRes.json();

                // Process Daily Reports
                const dailyReports = rootData
                    .filter(item => item.type === 'file' && item.name.match(/^\d{8}-AI-Daily-Report\.html$/))
                    .sort((a, b) => b.name.localeCompare(a.name))
                    .slice(0, 6); // Top 6

                if (dailyReports.length > 0) {
                    dailyContainer.innerHTML = dailyReports.map(item => {
                        const date = formatDate(item.name);
                        return createCard(`AI Technology Daily Report - ${date}`, date, item.path, 'Daily Brief');
                    }).join('');
                } else {
                    dailyContainer.innerHTML = '<div class="error">æš‚æ— æ—¥æŠ¥æ•°æ®</div>';
                }

                // Process GitHub Reports (Sub-folder)
                // Note: This requires a second API call. If folder doesn't exist yet, handle gracefully.
                try {
                    const ghRes = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/reports/daily-ai-agent-analysis?ref=${BRANCH}`);
                    if (ghRes.ok) {
                        const ghData = await ghRes.json();
                        const ghReports = ghData
                            .filter(item => item.type === 'file' && item.name.match(/^analysis-\d{4}-\d{2}-\d{2}\.html$/))
                            .sort((a, b) => b.name.localeCompare(a.name))
                            .slice(0, 6);

                        if (ghReports.length > 0) {
                            githubContainer.innerHTML = ghReports.map(item => {
                                const date = formatDate(item.name);
                                return createCard(`GitHub Agent Ecosystem Analysis`, date, item.path, 'Trend Report');
                            }).join('');
                        } else {
                            githubContainer.innerHTML = '<div class="error">æš‚æ— è¶‹åŠ¿æŠ¥å‘Š</div>';
                        }
                    } else {
                         // Folder might not exist yet
                        githubContainer.innerHTML = '<div class="loading">æš‚æ—  GitHub è¶‹åŠ¿æ•°æ® (ç›®å½•æœªå»ºç«‹)</div>';
                    }
                } catch (e) {
                    console.log('GitHub reports folder not found or empty');
                    githubContainer.innerHTML = '<div class="loading">æš‚æ— æ•°æ®</div>';
                }

            } catch (error) {
                console.error(error);
                dailyContainer.innerHTML = '<div class="error">æ— æ³•åŠ è½½æ•°æ® (å¯èƒ½æ˜¯ GitHub API é™æµ)ï¼Œè¯·ç¨ååˆ·æ–°ã€‚</div>';
            }
        }

        // Init
        document.addEventListener('DOMContentLoaded', loadContent);
    </script>
</body>
</html>